<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>r00tp4rv — Interactive Terminal</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{--neon:#7CFF4C;--muted:#7ca39a;--bg1:#000004}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg1),#02060a);font-family:Inter,'Share Tech Mono',monospace;color:#e6f7df;overflow:auto}
a{color:var(--neon)}
#matrix{position:fixed;inset:0;z-index:0;opacity:0.16;pointer-events:none}
.overlay{position:fixed;inset:0;pointer-events:none;z-index:1}
.noise{mix-blend-mode:overlay;opacity:0.06;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160"><rect width="100%" height="100%" fill="black"/><g fill="white" opacity="0.02"><circle cx="20" cy="30" r="1"/></g></svg>')}
.scanlines{background:repeating-linear-gradient(0deg,rgba(255,255,255,0.008),rgba(255,255,255,0.008) 1px,transparent 1px,transparent 4px);opacity:0.04}
.page{position:relative;z-index:2;min-height:100vh;display:flex;flex-direction:column}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:20px 28px;border-bottom:1px solid rgba(124,255,76,0.04)}
.brand{font-family:'Share Tech Mono';font-size:52px;color:var(--neon)}
.navlinks{display:flex;gap:20px;font-family:'Share Tech Mono';font-size:16px}
.navlinks a{color:var(--neon);text-decoration:none}
.container-main{max-width:1200px;margin:28px auto;padding:0 20px 64px;width:100%}
.mac-term{background:#0b0c0d;border-radius:14px;box-shadow:0 40px 90px rgba(0,0,0,0.7);overflow:hidden;border:1px solid rgba(124,255,76,0.03)}
.mac-bar{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#071017}
.traffic{display:flex;gap:10px}
.dot{width:14px;height:14px;border-radius:50%}
.dot.red{background:#ff5f57}.dot.yellow{background:#ffbd2e}.dot.green{background:#28c840}
.mac-title{flex:1;text-align:center;color:rgba(124,255,76,0.75);font-size:13px}
.term-wrap{padding:20px;min-height:360px;display:flex;flex-direction:column;gap:12px}
.terminal{color:var(--neon);font-family:'Share Tech Mono',monospace;font-size:16px;line-height:1.6;max-height:440px;overflow:auto;border-radius:6px;padding-right:8px;-webkit-overflow-scrolling:touch}
.line{white-space:pre-wrap;margin-bottom:8px}
.prompt{color:var(--neon)}
.cmdline{display:flex;gap:10px;align-items:center;margin-top:auto}
.prompt-label{min-width:90px;color:var(--neon)}
.input-wrap{flex:1;background:rgba(255,255,255,0.01);padding:12px;border-radius:10px}
.input{background:transparent;border:0;outline:none;color:var(--neon);font-size:16px;width:100%;padding:6px 0}
.stat-grid{display:flex;gap:18px;margin-top:18px}
.stat-card{flex:1;text-align:center;padding:18px;border-radius:12px;background:#0e1315}
.stat-num{font-family:'Share Tech Mono';font-size:44px;color:var(--neon)}
.stat-label{color:var(--muted);letter-spacing:2px;margin-top:8px}
footer{text-align:center;color:var(--muted);font-size:13px;margin-top:20px}

/* responsive */
@media (max-width:900px){
  .brand{font-size:36px}
  .navlinks{display:none}
  .container-main{margin:18px auto;padding:0 14px 64px}
  .term-wrap{padding:14px;min-height:320px}
  .terminal{font-size:15px;max-height:380px}
  .prompt-label{min-width:90px;font-size:15px}
  .stat-grid{flex-direction:column}
}
@media (max-width:420px){.brand{font-size:30px}.input{font-size:16px}.stat-num{font-size:36px}}
</style>
</head>
<body>

<canvas id="matrix" aria-hidden="true"></canvas>
<div class="overlay noise" aria-hidden="true"></div>
<div class="overlay scanlines" aria-hidden="true"></div>

<div class="page">
  <header class="topbar" role="banner">
    <div class="brand">r00tp4rv</div>
    <nav class="navlinks" aria-label="primary">
      <a id="nav-whoami" href="https://www.linkedin.com/in/parvbajaj" target="_blank" rel="noopener">whoami/</a>
      <a id="nav-xp" href="xp.html">xp/</a>
      <a id="nav-writeups" href="https://medium.com/@parvbajaj2000" target="_blank" rel="noopener">writeups/</a>
      <a id="nav-contact" href="mailto:r00tp4rv@gmail.com">contact/</a>
    </nav>
  </header>

  <main class="container-main" role="main">
    <section class="mac-term" aria-labelledby="terminal-title">
      <div class="mac-bar">
        <div class="traffic" aria-hidden="true"><div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div></div>
        <div id="terminal-title" class="mac-title">r00tp4rv — interactive demo terminal</div>
      </div>

      <div class="term-wrap">
        <div id="terminal" class="terminal" aria-live="polite" role="log" tabindex="0">
          <div class="line">Boot sequence complete. Type <strong style="color:var(--neon)">whoami</strong> to get started — or <strong style="color:var(--neon)">help</strong> for commands.</div>
        </div>

        <div class="cmdline" role="region" aria-label="terminal input">
          <div class="prompt-label" aria-hidden="true">$</div>
          <div class="input-wrap">
            <input id="cmd-input" class="input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
                   placeholder="try: whoami, xp, writeups, contact, nmap, sudo, open &lt;path&gt;" />
          </div>
        </div>
      </div>

      <div style="padding:16px 18px 22px;">
        <div class="stat-grid" role="region" aria-label="statistics">
          <div class="stat-card" role="status"><div class="stat-num" data-target="25">0</div><div class="stat-label">CTFS PARTICIPATED</div></div>
          <div class="stat-card" role="status"><div class="stat-num" data-target="3">0</div><div class="stat-label">AWARDS WON</div></div>
          <div class="stat-card" role="status"><div class="stat-num" data-target="1">0</div><div class="stat-label">TEAM MEMBERS</div></div>
        </div>
      </div>
    </section>

    <footer>Built by @r00tp4rv • Enter to run • Up/Down for history • type <code>help</code></footer>
  </main>
</div>

<!-- libs -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>

<script>
/* ---------------- Matrix rain (subtle) ---------------- */
(function(){
  const canvas = document.getElementById('matrix');
  const ctx = canvas.getContext('2d');
  let W,H,cols,ypos;
  function fit(){ W=canvas.width=innerWidth; H=canvas.height=innerHeight; cols=Math.max(10,Math.floor(W/18)); ypos=Array(cols).fill(0); }
  addEventListener('resize', fit); fit();
  const letters = 'abcdefghijklmnopqrstuvwxyz0123456789@#$%&*()<>/\\\\|';
  function frame(){
    ctx.fillStyle='rgba(0,0,0,0.06)'; ctx.fillRect(0,0,W,H);
    ctx.fillStyle='rgba(124,255,76,0.9)'; ctx.font='16px "Share Tech Mono", monospace';
    for(let i=0;i<cols;i++){ const ch = letters.charAt(Math.floor(Math.random()*letters.length)); const x = i*18; ctx.fillText(ch,x,ypos[i]*18); if(ypos[i]*18 > H && Math.random()>0.977) ypos[i]=0; ypos[i]++; }
    requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);
})();

/* ---------------- Terminal commands + behavior ---------------- */
(function(){
  const terminal = document.getElementById('terminal');
  const input = document.getElementById('cmd-input');
  let history = [], histIndex = -1;

  function append(html, cls='output'){ const el = document.createElement('div'); el.className = 'line '+cls; el.innerHTML = html; terminal.appendChild(el); terminal.scrollTop = terminal.scrollHeight; return el; }
  function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
  function typeLine(text, cls='output', speed=12){ return new Promise((resolve)=>{ const el=document.createElement('div'); el.className='line '+cls; terminal.appendChild(el); let i=0; function step(){ if(i<=text.length){ el.innerHTML = escapeHtml(text.slice(0,i)); terminal.scrollTop = terminal.scrollHeight; i++; setTimeout(step,speed);} else resolve(); } step(); }); }

  async function runCommand(raw){
    const cmdline = (raw||'').trim();
    if(!cmdline) return;
    append('$ '+escapeHtml(cmdline),'prompt');
    history.unshift(cmdline); histIndex = -1;
    const parts = cmdline.split(/\s+/); const cmd = parts[0].toLowerCase();

    if(cmd === 'clear'){ terminal.innerHTML=''; append('Boot sequence complete. Type <strong style="color:var(--neon)">whoami</strong> to get started.'); return; }
    if(cmd === 'sudo'){ await typeLine('sudo: 1 incorrect password entered'); await typeLine('sudo: authentication failed'); return; }
    if(cmd === 'nmap'){ const target = parts[1] || 'scanme.local'; await typeLine(`Starting Nmap 7.80 at ${new Date().toLocaleString()}`); await new Promise(r=>setTimeout(r,300)); await typeLine(`Nmap scan report for ${escapeHtml(target)}`); await typeLine('22/tcp  open  ssh'); await typeLine('80/tcp  open  http'); await typeLine('443/tcp open  https'); await typeLine('Nmap done: 1 host up'); return; }

    if(cmd === 'open'){ const path = parts.slice(1).join(' '); if(!path){ await typeLine('Usage: open <path-to-markdown>'); return; } const rawUrl = `https://raw.githubusercontent.com/r00tp4rv/ctf-writeups/main/${encodeURIComponent(path)}`; try{ await typeLine('Fetching '+rawUrl); const res = await fetch(rawUrl); if(!res.ok) throw new Error('Not found'); const md = await res.text(); const html = DOMPurify.sanitize(marked.parse(md)); append(html,'output'); }catch(err){ await typeLine('Error: could not fetch file. Make sure repo & path are public.'); } return; }

    // printing then performing action (so user reads output)
    if(cmd === 'whoami'){ await typeLine('Opening LinkedIn profile in a new tab...'); window.open('https://www.linkedin.com/in/parvbajaj','_blank','noopener'); return; }
    if(cmd === 'writeups'){ await typeLine('Opening Medium writeups in a new tab...'); window.open('https://medium.com/@parvbajaj2000','_blank','noopener'); return; }
    if(cmd === 'contact'){ await typeLine('Opening mail client...'); window.location.href = 'mailto:r00tp4rv@gmail.com'; return; }
    if(cmd === 'xp'){ await typeLine('Opening XP page...'); /* keep print, then navigate */ window.location.href = 'xp.html'; return; }

    if(cmd === 'help'){ await typeLine('available: whoami | xp | writeups | contact | open <path> | nmap <host> | sudo | clear | help'); return; }

    await typeLine('Command not found: '+cmd);
  }

  input.addEventListener('keydown', async (e)=>{
    if(e.key === 'Enter'){ const v = input.value; input.value = ''; await runCommand(v); }
    else if(e.key === 'ArrowUp'){ if(history.length===0) return; histIndex = Math.min(history.length-1, histIndex+1); input.value = history[histIndex] || ''; e.preventDefault(); }
    else if(e.key === 'ArrowDown'){ if(history.length===0) return; histIndex = Math.max(-1, histIndex-1); input.value = histIndex === -1 ? '' : history[histIndex]; e.preventDefault(); }
  });

  document.addEventListener('keydown',(e)=>{ if(e.ctrlKey||e.metaKey) return; if(e.key==='c'){ terminal.innerHTML=''; append('Boot sequence complete. Type <strong style="color:var(--neon)">whoami</strong> to get started.'); } if(e.key==='h') runCommand('help'); });
})();

/* ---------------- Count-up animation for stats ---------------- */
(function(){
  function animateCount(el, target, duration=1200){ let start=null; function step(ts){ if(!start) start = ts; const progress = Math.min((ts-start)/duration,1); el.textContent = Math.floor(progress * target); if(progress < 1) requestAnimationFrame(step); else el.textContent = target; } requestAnimationFrame(step); }
  const els = document.querySelectorAll('.stat-num');
  if('IntersectionObserver' in window){ const obs = new IntersectionObserver((entries, o)=>{ entries.forEach(en=>{ if(en.isIntersecting){ animateCount(en.target, parseInt(en.target.dataset.target||'0',10)); o.unobserve(en.target); } }); },{threshold:0.45}); els.forEach(el=>obs.observe(el)); } else { els.forEach(el=>animateCount(el, parseInt(el.dataset.target||'0',10))); }
})();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>