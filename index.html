<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>r00tp4rv — Interactive Terminal</title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --neon:#7CFF4C;
  --muted:#7ca39a;
  --bg1:#000004;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg1),#02060a);font-family:Inter,'Share Tech Mono',monospace;color:#e6f7df;overflow:auto;-webkit-font-smoothing:antialiased}
a{color:var(--neon);text-decoration:none}
#matrix{position:fixed;inset:0;z-index:0;opacity:0.16;pointer-events:none}
.overlay{position:fixed;inset:0;pointer-events:none;z-index:1}
.noise{mix-blend-mode:overlay;opacity:0.06;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160"><rect width=\"100%\" height=\"100%\" fill=\"black\"/><g fill=\"white\" opacity=\"0.02\"><circle cx=\"20\" cy=\"30\" r=\"1\"/></g></svg>')}
.scanlines{background:repeating-linear-gradient(0deg,rgba(255,255,255,0.008),rgba(255,255,255,0.008) 1px,transparent 1px,transparent 4px);opacity:0.04}

.header{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:14px 18px;border-bottom:1px solid rgba(124,255,76,0.04);backdrop-filter: blur(2px)}
.brand{font-family:'Share Tech Mono';font-size:28px;color:var(--neon);letter-spacing:1px}
.nav{display:flex;gap:14px;align-items:center}
.nav a{font-family:'Share Tech Mono';font-size:14px;color:var(--neon)}
.hamburger{display:none;cursor:pointer;padding:8px;border-radius:8px;border:1px solid rgba(124,255,76,0.03);background:rgba(0,0,0,0.15)}
.mobile-nav{display:none;position:absolute;top:60px;right:18px;background:linear-gradient(180deg,rgba(0,0,0,0.6),rgba(0,0,0,0.4));border:1px solid rgba(124,255,76,0.04);padding:8px;border-radius:10px}

.container{max-width:1100px;margin:20px auto;padding:0 16px 48px;position:relative;z-index:2}

.mac-term{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));border-radius:12px;overflow:hidden;border:1px solid rgba(124,255,76,0.03);box-shadow:0 30px 60px rgba(0,0,0,0.6)}
.mac-bar{display:flex;align-items:center;gap:10px;padding:12px 14px;background:#071017;border-bottom:1px solid rgba(124,255,76,0.02)}
.traffic{display:flex;gap:8px}
.dot{width:12px;height:12px;border-radius:50%}
.dot.red{background:#ff5f57}.dot.yellow{background:#ffbd2e}.dot.green{background:#28c840}
.mac-title{flex:1;text-align:center;color:rgba(124,255,76,0.75);font-family:'Share Tech Mono';font-size:13px}

.term-wrap{padding:16px;display:flex;flex-direction:column;gap:12px}
.terminal{color:var(--neon);font-family:'Share Tech Mono';font-size:15px;line-height:1.6;max-height:54vh;overflow:auto;padding-right:8px;border-radius:8px;-webkit-overflow-scrolling:touch}
.line{white-space:pre-wrap;margin-bottom:8px}
.cmdline{display:flex;gap:10px;align-items:center;margin-top:auto}
.prompt-label{min-width:70px;color:var(--neon);font-family:'Share Tech Mono'}
.input-wrap{flex:1;background:rgba(255,255,255,0.01);padding:10px;border-radius:10px;border:1px solid rgba(124,255,76,0.03)}
.input{background:transparent;border:0;outline:none;color:var(--neon);font-size:15px;width:100%;padding:6px 0}

.stats{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
.stat{flex:1;min-width:140px;background:linear-gradient(180deg,rgba(0,0,0,0.16),rgba(0,0,0,0.06));padding:12px;border-radius:8px;border:1px solid rgba(124,255,76,0.03);text-align:center}
.stat .n{font-family:'Share Tech Mono';font-size:28px;color:var(--neon)}
.stat .l{color:var(--muted);font-size:12px;margin-top:6px}

.footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

/* mobile nav visible */
@media (max-width:720px){
  .nav{display:none}
  .hamburger{display:block}
  .mac-title{font-size:12px}
  .brand{font-size:22px}
  .terminal{max-height:48vh;font-size:14px}
  .stat .n{font-size:24px}
}
</style>
</head>
<body>

<canvas id="matrix" aria-hidden="true"></canvas>
<div class="overlay noise" aria-hidden="true"></div>
<div class="overlay scanlines" aria-hidden="true"></div>

<header class="header" role="banner">
  <div class="brand">r00tp4rv</div>
  <div class="nav">
    <a href="https://www.linkedin.com/in/parvbajaj" target="_blank" rel="noopener">whoami/</a>
    <a href="xp.html">xp/</a>
    <a href="https://medium.com/@parvbajaj2000" target="_blank" rel="noopener">writeups/</a>
    <a href="mailto:r00tp4rv@gmail.com">contact/</a>
  </div>
  <button class="hamburger" aria-label="menu" id="hamb-toggle">☰</button>
  <div id="mobile-nav" class="mobile-nav" role="navigation" aria-hidden="true">
    <a href="https://www.linkedin.com/in/parvbajaj" target="_blank" rel="noopener">whoami/</a><br>
    <a href="xp.html">xp/</a><br>
    <a href="https://medium.com/@parvbajaj2000" target="_blank" rel="noopener">writeups/</a><br>
    <a href="mailto:r00tp4rv@gmail.com">contact/</a>
  </div>
</header>

<main class="container" role="main">
  <section class="mac-term" aria-labelledby="term-title">
    <div class="mac-bar">
      <div class="traffic" aria-hidden="true"><div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div></div>
      <div id="term-title" class="mac-title">r00tp4rv — interactive demo terminal</div>
    </div>

    <div class="term-wrap">
      <div id="terminal" class="terminal" role="log" aria-live="polite" tabindex="0">
        <div class="line">Boot sequence complete. Type <strong style="color:var(--neon)">whoami</strong> to get started — or <strong style="color:var(--neon)">help</strong>.</div>
      </div>

      <div class="cmdline" role="region" aria-label="terminal input">
        <div class="prompt-label" aria-hidden="true">$</div>
        <div class="input-wrap"><input id="cmd-input" class="input" placeholder="try: whoami, xp, writeups, contact, nmap, sudo, open &lt;path&gt;" autocapitalize="off" autocomplete="off" /></div>
      </div>
    </div>

    <div class="stats" aria-hidden="false">
      <div class="stat"><div class="n" id="s-points" data-target="25">0</div><div class="l">CTFs participated</div></div>
      <div class="stat"><div class="n" id="s-awards" data-target="3">0</div><div class="l">Awards won</div></div>
      <div class="stat"><div class="n" id="s-team" data-target="1">0</div><div class="l">Team members</div></div>
    </div>

  </section>

  <div class="footer">Built by Parv "r00tp4rv" Bajaj • Enter to run • Up/Down for history • type <code>help</code></div>
</main>

<script>
/* mobile nav control */
const hamb = document.getElementById('hamb-toggle'), mnav = document.getElementById('mobile-nav');
hamb.addEventListener('click', ()=> { const open = mnav.style.display !== 'block'; mnav.style.display = open ? 'block' : 'none'; mnav.setAttribute('aria-hidden', open ? 'false' : 'true'); });

/* Matrix (lightweight) */
(function(){
  const canvas = document.getElementById('matrix'); const ctx = canvas.getContext('2d');
  let W,H,cols,ypos; function fit(){ W=canvas.width=innerWidth; H=canvas.height=innerHeight; cols=Math.max(8,Math.floor(W/18)); ypos=Array(cols).fill(0);} window.addEventListener('resize', fit); fit();
  const letters = 'abcdefghijklmnopqrstuvwxyz0123456789@#$%&*()<>/\\\\|';
  function frame(){ ctx.fillStyle='rgba(0,0,0,0.06)'; ctx.fillRect(0,0,W,H); ctx.fillStyle='rgba(124,255,76,0.9)'; ctx.font='16px "Share Tech Mono", monospace';
    for(let i=0;i<cols;i++){ const ch = letters.charAt(Math.floor(Math.random()*letters.length)); const x=i*18; ctx.fillText(ch,x,ypos[i]*18); if(ypos[i]*18>H && Math.random()>0.977) ypos[i]=0; ypos[i]++; } requestAnimationFrame(frame);
  } requestAnimationFrame(frame);
})();

/* Terminal commands & behavior (preserve previous behavior) */
(function(){
  const terminal = document.getElementById('terminal'), input = document.getElementById('cmd-input');
  let history = [], idx = -1;
  function append(html, cls='line'){ const d = document.createElement('div'); d.className = cls; d.innerHTML = html; terminal.appendChild(d); terminal.scrollTop = terminal.scrollHeight; return d; }
  function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;'); }
  async function typeLine(text, speed=12){ return new Promise(r=>{ const d = document.createElement('div'); d.className='line'; terminal.appendChild(d); let i=0; function step(){ if(i<=text.length){ d.innerHTML = escapeHtml(text.slice(0,i)); terminal.scrollTop=terminal.scrollHeight; i++; setTimeout(step,speed);} else r(); } step(); }); }

  async function runCommand(raw){
    const cmdline = (raw||'').trim(); if(!cmdline) return;
    append('$ ' + escapeHtml(cmdline), 'line prompt');
    history.unshift(cmdline); idx = -1;
    const parts = cmdline.split(/\s+/); const cmd = parts[0].toLowerCase();

    if(cmd==='clear'){ terminal.innerHTML=''; append('Boot sequence complete. Type <strong style="color:var(--neon)">whoami</strong> to get started.'); return; }
    if(cmd==='sudo'){ await typeLine('sudo: 1 incorrect password entered'); await typeLine('sudo: authentication failed'); return; }
    if(cmd==='nmap'){ const target = parts[1] || 'scanme.local'; await typeLine(`Starting Nmap 7.80 at ${new Date().toLocaleString()}`); await new Promise(r=>setTimeout(r,300)); await typeLine(`Nmap scan report for ${escapeHtml(target)}`); await typeLine('22/tcp  open  ssh'); await typeLine('80/tcp  open  http'); await typeLine('443/tcp open  https'); return; }
    if(cmd==='open'){ const path = parts.slice(1).join(' '); if(!path){ await typeLine('Usage: open <path-to-markdown>'); return; } const rawUrl = `https://raw.githubusercontent.com/r00tp4rv/ctf-writeups/main/${encodeURIComponent(path)}`; try{ await typeLine('Fetching '+rawUrl); const res = await fetch(rawUrl); if(!res.ok) throw new Error('Not found'); const md = await res.text(); const html = DOMPurIFY ? DOMPurify.sanitize(marked.parse(md)) : md; append(html); }catch(e){ await typeLine('Error: could not fetch file. Make sure repo & path are public.'); } return; }

    // commands that print then navigate/act
    if(cmd==='whoami'){ await typeLine('Opening LinkedIn profile...'); window.open('https://www.linkedin.com/in/parvbajaj','_blank','noopener'); return; }
    if(cmd==='writeups'){ await typeLine('Opening Medium writeups...'); window.open('https://medium.com/@parvbajaj2000','_blank','noopener'); return; }
    if(cmd==='contact'){ await typeLine('Opening mail client...'); window.location.href='mailto:r00tp4rv@gmail.com'; return; }
    if(cmd==='xp'){ await typeLine('Opening XP page...'); window.location.href='xp.html'; return; }
    if(cmd==='help'){ await typeLine('available: whoami | xp | writeups | contact | open <path> | nmap <host> | sudo | clear | help'); return; }

    await typeLine('Command not found: ' + cmd);
  }

  input.addEventListener('keydown', async (e)=>{
    if(e.key==='Enter'){ const v=input.value; input.value=''; await runCommand(v); }
    else if(e.key==='ArrowUp'){ if(history.length===0) return; idx = Math.min(history.length-1, idx+1); input.value = history[idx] || ''; e.preventDefault(); }
    else if(e.key==='ArrowDown'){ if(history.length===0) return; idx = Math.max(-1, idx-1); input.value = idx===-1 ? '' : history[idx]; e.preventDefault(); }
  });

  document.addEventListener('keydown',(e)=>{ if(e.ctrlKey||e.metaKey) return; if(e.key==='c'){ terminal.innerHTML=''; append('Boot sequence complete. Type <strong style="color:var(--neon)">whoami</strong> to get started.'); } if(e.key==='h') runCommand('help'); });

  // basic DOMPurify/marked lazy load if open <path> is used (to keep initial fast)
  (function loadOptional(){ const s1=document.createElement('script'); s1.src='https://cdn.jsdelivr.net/npm/marked/marked.min.js'; s1.defer=true; document.head.appendChild(s1); const s2=document.createElement('script'); s2.src='https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js'; s2.defer=true; document.head.appendChild(s2); })();
})();

/* count-up stats */
(function(){
  function animate(el, target, dur=1000){ let start=null; function step(ts){ if(!start) start=ts; const p=Math.min((ts-start)/dur,1); el.textContent = Math.floor(p*target); if(p<1) requestAnimationFrame(step); else el.textContent = target; } requestAnimationFrame(step); }
  const els = [{id:'s-points',t:25},{id:'s-awards',t:3},{id:'s-team',t:1}];
  els.forEach(o => { const el = document.getElementById(o.id); if(!el) return; el.dataset.target = o.t; const io = new IntersectionObserver((entries, ob)=>{ entries.forEach(en=>{ if(en.isIntersecting){ animate(en.target, Number(en.target.dataset.target||0)); ob.unobserve(en.target); } }); },{threshold:0.4}); io.observe(el); });
})();
</script>

<!-- optionally bootstrapped JS libs are lazy-loaded if needed above -->
</body>
</html>